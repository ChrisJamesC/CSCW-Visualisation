<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>The Gaze table</title>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.v2.js"></script>
    <script type="text/javascript" src="http://underscorejs.org/underscore.js"></script>
  </head>
  <body>
  <script>
      var img_width = 800;
      var img_height = 600;

      var positions = {
          s0:{head:{x:0.76, y:0.455}, ipad:{x:0.617, y:0.475}, color:"green"},
          s1:{head:{x:0.74, y:0.22}, ipad:{x:0.58, y:0.21}, color:"blue"},
          s2:{head:{x:0.27, y:0.22}, ipad:{x:0.365, y:0.21}, color:"red"},
          s3:{head:{x:0.25, y:0.45}, ipad:{x:0.335, y:0.475}, color:"yellow"}
      };

      var margin = {top: 20, right: 20, bottom: 30, left: 40},
          width = 960 - margin.left - margin.right,
          height = 700 - margin.top - margin.bottom;

      var x = d3.scale.linear()
          .range([0, width]);

      var y = d3.scale.linear()
          .range([height, 0]);

      var svg = d3.select("body").append("svg")
          .attr("width", width + margin.left + margin.right)
          .attr("height", height + margin.top + margin.bottom);

      var image = svg.append("image")
          .attr("xlink:href", "display-experimentCSCW-tableOnly.jpg")
          .attr("width", img_width)
          .attr("height", img_height);

      /* Draw heads */
      _.each(positions, function(pos){
          svg.append("circle")
              .attr("stroke",pos.color)
              .attr("stroke-width", "6px")
              .attr("fill", "white")
              .attr("r", "30px")
              .attr("cx", pos.head.x*img_width)
              .attr("cy", pos.head.y*img_height)
      });

      /* Draw iPads */
      _.each(positions, function(pos){
          svg.append("rect")
              //.attr("class", "ipad")
              .attr("stroke-width", "4px")
              .attr("stroke", pos.color)
              .attr("fill", "white")
              .attr("width", "42px")
              .attr("height", "60px")
              .attr("x", pos.ipad.x*img_width)
              .attr("y", pos.ipad.y*img_height)
      });

      /* Draw screen */
      svg.append("rect")
          .attr("stroke", "black")
          .attr("stroke-width", "4px")
          .attr("fill", "white")
          .attr("width", img_width*3/4 + "px")
          .attr("height", 30+ "px")
          .attr("borderStyle", "plain")
          .attr("x", 0.12*img_width)
          .attr("y", 0.88* img_height);

  </script>
  </body>
</html>
