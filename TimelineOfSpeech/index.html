<!DOCTYPE html>
<html>
  <head>
    <title>Hello World!</title>
  </head>
 <body>
  </body>
 <script src="http://d3js.org/d3.v2.js"></script>
 
<script type="text/javascript">
/*
var txtFile = new XMLHttpRequest();
txtFile.open("GET", "NeuronTask - Copie.csv", true);
txtFile.onreadystatechange = function()
{
  if (txtFile.readyState === 4) {  // document is ready to parse.
  console.log("ready to parse");
    if (txtFile.status === 200) {  // file is found
	console.log("file found");
	
      allText = txtFile.responseText; 
	  
      lines = txtFile.responseText.split("\n");
	  var lineSplit =[] ;
	  for(var i = 1; i<lines.length; i++){
			lineSplit.push(lines[i].split(","));
			
	  }
	var finalLine[];
		for(var i = 0; i<lines.length-1; i++){
			var result;
			if(lineSplit[i][2]==lineSplit[i+1][2]){
				finalLine.push([lineSplit[i][0], lineSplit[i][1]+lineSplit[i+1][1], lineSplit[i][2]]);
				i++;
			}else{
				finalLine.push(lineSplit[i]);
			}
			 
			
	  }
	  
	  
    }
  }
}
txtFile.send(null);
*/

var w =3000,
    h = 600;
	
var svg = d3.select("body").append("svg:svg")
    .attr("width", w)
    .attr("height", h);
	
	function time(d){ return d.time*2;}
	function tStart(d){ return d.tStart;}
	
	function subject(d){ return d.subject;}
	//function tEnd(d){ return d.tEnd;}
	//function category(d){ return d.category;}
	//function dialogue(d){ return d.dialogue;}
	function red(){svg.style("fill", "red");}
	function blue(){svg.style("fill", "blue");}
	function pink(){svg.style("fill", "pink");}
	function yellow(){svg.style("fill", "yellow");}
	var yS0 = 60;
	var yS1 = 120;
	var yS2 = 180;
	var yS3 = 240;
	
	
	d3.csv("dataFiles/Penguin_EnergyTask.csv", function(data) { 
	console.log(data);
	svg.selectAll("circle")
    .data(data)
	.enter().append("circle")
    .attr("cx", tStart)
    .attr("cy", function(d){switch(subject(d))
					{
						case "s0":
						return yS0;
						break;
						case "s1":
						return yS1;
						break;
						case "s2":
						return yS2;
						break;
						case "s3":
						return yS3;
						break;
						default:
						return -300;
						
						break;
					}
					})
    .attr("r", time)
	.style("fill", function(d){switch(subject(d))
					{
						case "s0":
						return "rgba(0, 0, 255, 0.3)";
						break;
						case "s1":
						return "rgba(0, 255, 0, 0.3)";
						break;
						case "s2":
						return "rgba(255, 0, 0, 0.3)";
						break;
						case "s3":
						return "rgba(255,192,203, 0.3)";
						break;
						default:
						return "white";
						break;
					}
					})
	.style("stroke", function(d){switch(subject(d))
					{
						case "s0":
						return "darkblue";
						break;
						case "s1":
						return "darkgreen";
						break;
						case "s2":
						return "darkred";
						break;
						case "s3":
						return "rgb(255,20,147)";
						break;
						default:
						return "white";
						break;
					}
					});
}); 
  </script>
	
</html>